<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <title>
   mari.History
  </title>
  <link href="epydoc.css" rel="stylesheet" type="text/css"/>
  <script src="epydoc.js" type="text/javascript">
  </script>
 </head>
 <body alink="#204080" bgcolor="white" link="blue" text="black" vlink="#204080">
  <!-- ==================== NAVIGATION BAR ==================== -->
  <table cellpadding="0" cellspacing="0" width="100%">
   <tr valign="top">
    <td width="100%">
     <span class="breadcrumbs">
      <a href="mari-module.html">
       Package&nbsp;mari
      </a>
      ::
        Class&nbsp;History
     </span>
    </td>
    <td>
     <table cellpadding="0" cellspacing="0">
      <!-- hide/show private -->
      <tr>
       <td align="right">
        <span class="options">
         [
         <a href="frames.html" target="_top">
          frames
         </a>
         ]&nbsp;|&nbsp;
         <a href="mari.History-class.html" target="_top">
          no&nbsp;frames
         </a>
         ]
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
  </table>
  <!-- ==================== CLASS DESCRIPTION ==================== -->
  <h1 class="epydoc">
   Class History
  </h1>
  <p class="nomargin-top">
   <span class="codelink">
    <a href="mari-pysrc.html#History">
     source&nbsp;code
    </a>
   </span>
  </p>
  <pre class="base-tree">
object --+
         |
        <strong class="uidshort">History</strong>
</pre>
  <hr/>
  <p>
   Provides access to the Mari editing history, or undo stack.
  </p>
  <p>
   The history is only available for the currently open project, and will
  be lost when the project is closed. Operations cannot be performed when 
  there is no project open.
   <b>
    Example Code
   </b>
  </p>
  <pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-comment"># This example calls undo() to undo the last change in the undo history</span>
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> mari
<span class="py-prompt">&gt;&gt;&gt; </span>mari.history.undo()
<span class="py-output">True</span></pre>
  <!-- ==================== INSTANCE METHODS ==================== -->
  <a name="section-InstanceMethods">
  </a>
  <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="summary" width="100%">
   <tr bgcolor="#70b0f0" class="table-header">
    <td align="left" class="table-header" colspan="2">
     <span class="table-header">
      Instance Methods
     </span>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      None
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#clear">
          clear
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         ,
         <span class="summary-sig-arg">
          ShowDialog
         </span>
         =
         <span class="summary-sig-default">
          True
         </span>
         )
        </span>
        <br/>
        Clears the undo history, without undoing any operations.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.clear">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      bool
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#isMacroActive">
          isMacroActive
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         )
        </span>
        <br/>
        Indicates whether history items are currently being grouped into a 
      macro.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.isMacroActive">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      bool
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#redo">
          redo
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         )
        </span>
        <br/>
        Redoes the most recently undone action in the history.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.redo">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      None
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#startMacro">
          startMacro
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         ,
         <span class="summary-sig-arg">
          MacroName
         </span>
         )
        </span>
        <br/>
        Starts grouping history items into a new macro.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.startMacro">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      None
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#stopMacro">
          stopMacro
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         )
        </span>
        <br/>
        Stops the current macro grouping.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.stopMacro">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td align="right" class="summary" valign="top" width="15%">
     <span class="summary-type">
      bool
     </span>
    </td>
    <td class="summary">
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td>
        <span class="summary-sig">
         <a class="summary-sig-name" href="mari.History-class.html#undo">
          undo
         </a>
         (
         <span class="summary-sig-arg">
          self
         </span>
         )
        </span>
        <br/>
        Undoes the last action in the history.
       </td>
       <td align="right" valign="top">
        <span class="codelink">
         <a href="mari-pysrc.html#History.undo">
          source&nbsp;code
         </a>
        </span>
       </td>
      </tr>
     </table>
    </td>
   </tr>
   <tr>
    <td class="summary" colspan="2">
     <p class="indent-wrapped-lines">
      <b>
       Inherited from
       <code>
        object
       </code>
      </b>
      :
      <code>
       __delattr__
      </code>
      ,
      <code>
       __format__
      </code>
      ,
      <code>
       __getattribute__
      </code>
      ,
      <code>
       __hash__
      </code>
      ,
      <code>
       __init__
      </code>
      ,
      <code>
       __new__
      </code>
      ,
      <code>
       __reduce__
      </code>
      ,
      <code>
       __reduce_ex__
      </code>
      ,
      <code>
       __repr__
      </code>
      ,
      <code>
       __setattr__
      </code>
      ,
      <code>
       __sizeof__
      </code>
      ,
      <code>
       __str__
      </code>
      ,
      <code>
       __subclasshook__
      </code>
     </p>
    </td>
   </tr>
  </table>
  <!-- ==================== PROPERTIES ==================== -->
  <a name="section-Properties">
  </a>
  <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="summary" width="100%">
   <tr bgcolor="#70b0f0" class="table-header">
    <td align="left" class="table-header" colspan="2">
     <span class="table-header">
      Properties
     </span>
    </td>
   </tr>
   <tr>
    <td class="summary" colspan="2">
     <p class="indent-wrapped-lines">
      <b>
       Inherited from
       <code>
        object
       </code>
      </b>
      :
      <code>
       __class__
      </code>
     </p>
    </td>
   </tr>
  </table>
  <!-- ==================== METHOD DETAILS ==================== -->
  <a name="section-MethodDetails">
  </a>
  <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
   <tr bgcolor="#70b0f0" class="table-header">
    <td align="left" class="table-header" colspan="2">
     <span class="table-header">
      Method Details
     </span>
    </td>
   </tr>
  </table>
  <a name="clear">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            clear
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           ,
           <span class="sig-arg">
            ShowDialog
           </span>
           =
           <span class="sig-default">
            True
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.clear">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Clears the undo history, without undoing any operations.
      </p>
      <p>
       This permanently clears the undo history, without undoing any of the 
  operations. Effectively there will be no change to the current state of 
  the project other than that none of the previous operations can be undone
  (or redone) afterwards.
      </p>
      <p>
       However, clearing the undo history will remove references to previous 
  data that are no longer needed, and hence free space in memory and on 
  disk when garbage collection is performed.
      </p>
      <p>
       As undo data will be destroyed, this method optionally displays a 
  confirmation dialog.
      </p>
      <p>
       This function raises an exception if it is called when the current 
  project requires saving. This is because clearing history on an unsaved 
  project would invalidate any old data from the saved state that has since
  been changed. If the user then closed the project without saving, some of
  the data from that saved state might no longer be valid. This could 
  appear as project corruption, so the exception avoids that risk.
      </p>
      <dl class="fields">
       <dt>
        Parameters:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <strong class="pname">
           <code>
            ShowDialog
           </code>
          </strong>
          (bool) - If set to True, Mari will display a confirmation dialog
         </li>
        </ul>
       </dd>
       <dt>
        Returns: None
       </dt>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            RuntimeError
           </strong>
          </code>
          - Raised if there is no project open, or if the current project 
        requires saving.
         </li>
        </ul>
       </dd>
      </dl>
      <div class="fields">
       <p>
        <strong>
         Warning:
        </strong>
        Older versions of Mari did not raise an exception when the function
        was called on a project that required saving. Please ensure that 
        any relevant scripts are up to date.
       </p>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <a name="isMacroActive">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            isMacroActive
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.isMacroActive">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Indicates whether history items are currently being grouped into a 
  macro.
      </p>
      <p>
       This method will return True if
       <a class="link" href="mari.History-class.html#startMacro">
        startMacro()
       </a>
       has been called without a corresponding
       <a class="link" href="mari.History-class.html#stopMacro">
        stopMacro()
       </a>
       .
      </p>
      <p>
       Many internal functions also start and stop macros, and this function 
  will also return True if called while one of those macros is active. This
  can happen when running custom code in response to a signal, for 
  example.
      </p>
      <dl class="fields">
       <dt>
        Returns: bool
       </dt>
       <dd>
        True if history items are being grouped into a macro, or False 
          otherwise
       </dd>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            ValueError
           </strong>
          </code>
          - Raised if there is no project open.
         </li>
        </ul>
       </dd>
      </dl>
     </td>
    </tr>
   </table>
  </div>
  <a name="redo">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            redo
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.redo">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Redoes the most recently undone action in the history.
      </p>
      <dl class="fields">
       <dt>
        Returns: bool
       </dt>
       <dd>
        True if the redo was performed, or False when there are no more 
          items to redo
       </dd>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            RuntimeError
           </strong>
          </code>
          - Raised if there is no project open.
         </li>
        </ul>
       </dd>
      </dl>
      <div class="fields">
       <p>
        <strong>
         See Also:
        </strong>
        <a class="link" href="mari.History-class.html#undo">
         undo()
        </a>
       </p>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <a name="startMacro">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            startMacro
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           ,
           <span class="sig-arg">
            MacroName
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.startMacro">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Starts grouping history items into a new macro.
      </p>
      <p>
       Mari allows grouping of history items into macros. A macro is a block 
  of actions that appears as one item in the history and can be done or 
  redone as a single unit.
       <a class="link" href="mari.History-class.html#startMacro">
        startMacro()
       </a>
       <i>
        must
       </i>
       be followed by
       <a class="link" href="mari.History-class.html#stopMacro">
        stopMacro()
       </a>
       ; if
  not, the behavior is undefined.
      </p>
      <dl class="fields">
       <dt>
        Parameters:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <strong class="pname">
           <code>
            MacroName
           </code>
          </strong>
          (str) - The name of the new macro block. This name will appear in the 
          history view.
         </li>
        </ul>
       </dd>
       <dt>
        Returns: None
       </dt>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            RuntimeError
           </strong>
          </code>
          - Raised if there is no project open.
         </li>
         <li>
          <code>
           <strong class="fraise">
            ValueError
           </strong>
          </code>
          - Raised if the macro name is empty.
         </li>
        </ul>
       </dd>
      </dl>
      <div class="fields">
       <p>
        <strong>
         See Also:
        </strong>
        <a class="link" href="mari.History-class.html#isMacroActive">
         isMacroActive()
        </a>
       </p>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <a name="stopMacro">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            stopMacro
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.stopMacro">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Stops the current macro grouping.
      </p>
      <p>
       This ends the group of history items begun by
       <a class="link" href="mari.History-class.html#startMacro">
        startMacro()
       </a>
       .
      </p>
      <dl class="fields">
       <dt>
        Returns: None
       </dt>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            RuntimeError
           </strong>
          </code>
          - Raised if there is no project open, or if no macro is currently 
        active.
         </li>
        </ul>
       </dd>
      </dl>
      <div class="fields">
       <p>
        <strong>
         See Also:
        </strong>
        <a class="link" href="mari.History-class.html#isMacroActive">
         isMacroActive()
        </a>
       </p>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <a name="undo">
  </a>
  <div>
   <table bgcolor="white" border="1" cellpadding="3" cellspacing="0" class="details" width="100%">
    <tr>
     <td>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
       <tr valign="top">
        <td>
         <h3 class="epydoc">
          <span class="sig">
           <span class="sig-name">
            undo
           </span>
           (
           <span class="sig-arg">
            self
           </span>
           )
          </span>
         </h3>
        </td>
        <td align="right" valign="top">
         <span class="codelink">
          <a href="mari-pysrc.html#History.undo">
           source&nbsp;code
          </a>
         </span>
         &nbsp;
        </td>
       </tr>
      </table>
      <p>
       Undoes the last action in the history.
      </p>
      <dl class="fields">
       <dt>
        Returns: bool
       </dt>
       <dd>
        True if the undo was performed, or False when there are no more 
          items to undo
       </dd>
       <dt>
        Raises:
       </dt>
       <dd>
        <ul class="nomargin-top">
         <li>
          <code>
           <strong class="fraise">
            RuntimeError
           </strong>
          </code>
          - Raised if there is no project open.
         </li>
        </ul>
       </dd>
      </dl>
      <div class="fields">
       <p>
        <strong>
         See Also:
        </strong>
        <a class="link" href="mari.History-class.html#redo">
         redo()
        </a>
       </p>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <br/>
  <!-- ==================== NAVIGATION BAR ==================== -->
  <table border="0" cellpadding="0" cellspacing="0" width="100%%">
   <tr>
   </tr>
  </table>
  <script type="text/javascript">
   <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
  </script>
 </body>
</html>
